/* Estilos baseados no WhatsApp para mobile */
:root{ --bg:#e5ddd5; --panel:#fff; --my:#dcf8c6; --accent:#25d366; --header:#075e54; --dark:#111; }
body{ 
    margin:0; 
    background:var(--bg); 
    font-family:Arial, sans-serif; 
    height: 100vh;
    height: 100dvh; 
    display:flex; 
    flex-direction:column; 
    overflow:hidden; 
}
#topbar{ height:56px; background:var(--header); display:flex; align-items:center; padding:0 12px; color:#fff; font-size:18px; font-weight:bold; justify-content: space-between; position: relative; }

/* Garante que o container de mensagens use o espaço restante */
#messages-container{ 
    flex:1; 
    position: relative; 
    display:flex; 
    flex-direction:column;
}

/* Faz com que a área de mensagens role e use o espaço do container */
#messages{ 
    flex:1; 
    overflow-y:auto; 
    padding:0 10px 10px 10px; 
    display:flex; 
    flex-direction:column; 
    scroll-behavior:smooth; 
    background-color:var(--bg); 
    padding-top: 10px;
    background-size: cover; 
    background-position: center; 
}

/* Estilo para o grupo de mensagem e nome do perfil */
.msg-group {
    display: flex;
    flex-direction: column;
    max-width: 80%;
    margin-bottom: 8px; 
}
.msg-group.me {
    align-self: flex-end;
}
.msg-group.other {
    align-self: flex-start;
}

/* Estilo para o nome do perfil (e-mail) */
.profile-name {
    font-size: 12px;
    color: #075e54; 
    margin-bottom: 2px;
    align-self: flex-start;
    padding-left: 8px;
    font-weight: bold;
}
.msg-group.me .profile-name {
    color: #128C7E;
    align-self: flex-end;
    padding-right: 8px;
    padding-left: 0;
}
.msg{ 
    max-width:100%; 
    padding:8px 12px; 
    margin-bottom:2px; 
    border-radius:8px; 
    font-size:15px; 
    line-height:1.3; 
    position: relative;
    padding-right: 50px; 
    cursor: pointer; 
}
.me{ align-self:flex-end; background:var(--my); 
    border-bottom-right-radius: 0; 
}
.other{ align-self:flex-start; background:#fff; 
    border-bottom-left-radius: 0; 
}

/* Estilo do horário */
.timestamp {
    position: absolute;
    bottom: 2px;
    right: 8px;
    font-size: 10px;
    color: rgba(0, 0, 0, 0.4);
}

/* Garante rodapé fixo no mobile e considera barra de gesto */
#inputArea{ 
    height:60px; 
    background:#fff; 
    display:flex; 
    align-items:center; 
    padding:0 6px; 
    gap:6px; 
    width: 100%;
    box-sizing: border-box; 
    padding-bottom: env(safe-area-inset-bottom); 
}
#textInput{ flex:1; height:40px; border:1px solid #ccc; border-radius:20px; padding:0 14px; font-size:15px; }
.btn{ width:42px; height:42px; border-radius:50%; display:flex; align-items:center; justify-content:center; background:var(--accent); border:none; color:#fff; cursor:pointer; 
    font-size: 18px; 
}
.menu-item {
    display: block;
    padding: 10px 15px;
    text-decoration: none;
    color: var(--dark);
}
.menu-item:hover {
    background-color: #f0f0f0;
}
#videoCallArea{ 
    position:absolute; top:0; left:0; width:100%; height:100%; 
    background:rgba(0,0,0,0.9); z-index:10; 
    display:none; flex-direction: column; justify-content:center; align-items:center; 
}
#localVideo{ 
    width:100%; height:100%; object-fit:cover; 
}
#hangupBtn{ 
    position:absolute; bottom:20px; background:red; color:white; 
    font-size:24px; border-radius:30px; padding:8px 24px; border:none; cursor:pointer; 
}
#loginModal{ position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; z-index:9999; padding:20px; display:flex; flex-direction:column; align-items:center; justify-content:center; }
.file-content {
    margin: 4px 0;
}
.file-content img, .file-content video, .file-content audio {
    display: block;
    max-width: 100%; 
    height: auto;
}

/* Estilos para o status de gravação de áudio */
.recording-status {
    width: 42px; 
    height: 42px;
    border-radius: 50%;
    background: red;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulse 1s infinite alternate;
}
@keyframes pulse {
    from { opacity: 1; }
    to { opacity: 0.5; }
}

/* Contatos.html CSS (Adicionar também aqui para que contacts.html possa usar o style.css) */
#contactsList {
    flex: 1;
    overflow-y: auto;
    background-color: #fff;
}
.contact-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    background: #fff;
    transition: background 0.2s;
}
.contact-item:hover {
    background: #f5f5f5;
}
.contact-info {
    flex-grow: 1;
}
.contact-name {
    font-weight: bold;
    color: var(--dark);
}
.contact-id {
    font-size: 12px;
    color: #666;
    word-break: break-all;
}
.call-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    border: none;
    font-size: 18px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    margin-left: 10px;
}
.empty-state {
    padding: 20px;
    text-align: center;
    color: #999;
}
#backBtn {
    color: white;
    text-decoration: none;
    margin-right: 15px;
    font-size: 24px;
}
